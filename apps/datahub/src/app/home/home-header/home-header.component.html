<header class="h-full" [style.background]="backgroundCss">
  <div class="bg-menu px-5">
    <div class="container-lg mx-auto">
      <datahub-link-menu></datahub-link-menu>
    </div>
  </div>

  <div class="bg-white px-5">
    <div class="container-title container-lg mx-auto">
      <div class="text-primary font-title text-[24px] sm:text-[32px]" [style.opacity]="expandRatio" 
        [innerHTML]="'datahub.header.title.html' | translate">
      </div>
    </div>
  </div>

  <div class="bg-primary px-5">
    <div class="container-lg mx-auto">
      <datahub-navigation-menu class="tabs flex justify-between"
        [style.opacity]="-0.6 + expandRatio * 5"></datahub-navigation-menu>
    </div>
  </div>

  <div class="bg-secondary px-5">
    <div class="container-lg mx-auto py-10 relative z-40"
      [style.transform]="'translate(0, ' + (1 - expandRatio) * 45 + 'px)'">
      <ng-container *ngIf="displaySortBadges$ | async">
        <!-- <div class="container-lg mx-auto">
          <div class="text-white text-[24px]" [style.opacity]="expandRatio"
            [innerHTML]="'header.everyDataHdf' | translate">
          </div>
        </div> -->
        <gn-ui-fuzzy-search class="text-[18px]" (itemSelected)="onFuzzySearchSelection($event)"></gn-ui-fuzzy-search>
        <div class="flex h-0 py-5 gap-3" [style.opacity]="-0.6 + expandRatio * 2">
          <datahub-header-badge-button [routerLink]="ROUTE_SEARCH" *ngIf="isAuthenticated$ | async" icon="star"
            label="datahub.header.myfavorites" [toggled]="searchFacade.favoritesOnly$ | async"
            (action)="listFavorites($event)"></datahub-header-badge-button>
          <div *ngFor="let preset of searchConfig?.SEARCH_PRESET">
            <div>
              <button
                type="button"
                class="badge-btn bg-primary-opacity-50 hover-bg-primary-opacity-100"
                (click)="clearSearchAndFilterAndSort(preset)"
              >
                <span translate="">{{ preset['name'] }}</span>
              </button>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

  <!-- <div
    class="container-lg relative top-0 mx-auto z-[1005]"
    *ngIf="translatedBannerMessage$ | async as bannerMessage"
  >
    <gn-ui-application-banner
      [message]="bannerMessage"
      [closeEnabled]="true"
      type="light"
    ></gn-ui-application-banner>
  </div> -->

  <!-- <div
    class="container-lg relative h-full mx-auto flex flex-col-reverse justify-between sm:flex-col sm:justify-end"
  >
    <div
      class="py-8 relative z-40 mb-[184px] sm:mb-0"
      [ngClass]="{ 'pointer-events-none': expandRatio < 0.2 }"
      [style.transform]="'translate(0, ' + (1 - expandRatio) * 242 + 'px)'"
    >
      <div
        data-cy="dh-title"
        class="font-title text-[30px] absolute w-full sm:text-[48px] sm:leading-[58px]"
        style="bottom: 100%"
        [style.opacity]="expandRatio"
        [innerHTML]="'datahub.header.title.html' | translate"
      ></div>
      <gn-ui-fuzzy-search
        class="text-[18px] pointer-events-auto"
        style="
          --gn-ui-text-input-padding: 1.1em;
          --gn-ui-text-input-border-size: 0px;
        "
        (itemSelected)="onFuzzySearchSelection($event)"
        [autoFocus]="true"
      ></gn-ui-fuzzy-search>
      <div
        class="flex flex-wrap h-0 py-5 gap-3"
        [style.opacity]="-0.6 + expandRatio * 2"
      >
        <datahub-header-badge-button
          [routerLink]="ROUTE_SEARCH"
          *ngIf="isAuthenticated$ | async"
          icon="matStarOutline"
          label="datahub.header.myfavorites"
          [toggled]="searchFacade.favoritesOnly$ | async"
          (action)="listFavorites($event)"
        ></datahub-header-badge-button>
        <div>
          <button
            type="button"
            class="badge-btn text-primary-white bg-primary-opacity-50 hover-bg-primary-opacity-100"
            (click)="clearSearchAndSort(SORT_BY_PARAMS.CREATE_DATE)"
          >
            <span translate>datahub.header.lastRecords</span>
          </button>
        </div>
        <div>
          <button
            type="button"
            class="badge-btn text-primary-white bg-primary-opacity-50 hover-bg-primary-opacity-100"
            (click)="clearSearchAndSort(SORT_BY_PARAMS.POPULARITY)"
          >
            <span translate>datahub.header.popularRecords</span>
          </button>
        </div>
        <div *ngFor="let preset of searchConfig?.SEARCH_PRESET">
          <div>
            <button
              type="button"
              class="badge-btn text-primary-white bg-primary-opacity-50 hover-bg-primary-opacity-100"
              (click)="clearSearchAndFilterAndSort(preset)"
            >
              <span translate>{{ preset['name'] }}</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <div [style.opacity]="-0.6 + expandRatio * 5">
      <datahub-navigation-menu
        class="tabs flex justify-between font-medium -mx-5 sm:mx-0 sm:mt-32 inset-x-0 bottom-0 z-50"
      ></datahub-navigation-menu>
    </div>
    <gn-ui-language-switcher
      *ngIf="showLanguageSwitcher"
      class="language-switcher absolute top-3.5 right-6"
      [style.--color-main]="foregroundColor"
      [style.--color-gray-300]="foregroundColor"
      [style.--color-primary-darker]="foregroundColor"
      [style.--color-primary-black]="foregroundColor"
    ></gn-ui-language-switcher>
  </div> -->
</header>
